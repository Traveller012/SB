codegen_obj_access isAssign lhs rhs d llbuilder = 
	
	let check_lhs = function
		A.Id(s)				-> codegen_id false false s d llbuilder
	| 	se 	-> raise (Exceptions.LHSofRootAccessMustBeIDorFunc (Utils.string_of_sexpr se))
	in

	
	let rec check_rhs parent_expr parent_type = 
		let parent_str = Utils.string_of_object parent_type in
		function
			(* Check fields in parent *)
			SId(field, d) -> 
				let search_term = (parent_str ^ "." ^ field) in
				let field_index = Hashtbl.find struct_field_indexes search_term in
				let _val = build_struct_gep parent_expr field_index field llbuilder in
				let _val = match d with 
					Datatype(Objecttype(_)) -> 
					if not isAssign then _val
					else build_load _val field llbuilder
				| _ ->
				if not isAssign then
					_val
				else
					build_load _val field llbuilder
				in
				_val

		| 	_ as e -> raise (Exceptions.InvalidAccessLHS (Utils.string_of_sexpr e))
	in 
	let lhs_type = Analyzer.get_type_from_sexpr lhs in 
	match lhs_type with
		|
		 	_ -> 
		let lhs = check_lhs lhs in
		let rhs = check_rhs lhs lhs_type rhs in
		rhs
